
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <meta name="author" content="Steve Van Hooser">
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>CLASS ndi.app.spikeextractor - NDI-matlab</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.196e0c26.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#class-ndiappspikeextractor" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../../.." title="NDI-matlab" class="md-header-nav__button md-logo" aria-label="NDI-matlab">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            NDI-matlab
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              CLASS ndi.app.spikeextractor
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/VH-Lab/NDI-matlab/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="NDI-matlab" class="md-nav__button md-logo" aria-label="NDI-matlab">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    NDI-matlab
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/VH-Lab/NDI-matlab/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../installation/" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    <label class="md-nav__link" for="nav-3">
      Tutorials
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1" >
    <label class="md-nav__link" for="nav-3-1">
      The NDI model
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="The NDI model" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        <span class="md-nav__icon md-icon"></span>
        The NDI model
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../ndimodel/1_intro/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../ndimodel/2_ndimodel_vocabulary/" class="md-nav__link">
      Real world vocabulary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2" >
    <label class="md-nav__link" for="nav-3-2">
      Planned soon
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Planned soon" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        <span class="md-nav__icon md-icon"></span>
        Planned soon
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../tutorials/analyzing_first_physiology_experiment/" class="md-nav__link">
      Analyzing your first electrophysiology experiment with NDI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../tutorials/reading_own_data_ndi/" class="md-nav__link">
      Reading your own data in NDI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../tutorials/case_studies_reading_data/" class="md-nav__link">
      Case studies in reading data in NDI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../tutorials/data_pipeline/" class="md-nav__link">
      Making your own data pipeline in NDI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../tutorials/analysis_app/" class="md-nav__link">
      Making your own analysis app that uses NDI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3" >
    <label class="md-nav__link" for="nav-3-3">
      Planned later
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Planned later" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        <span class="md-nav__icon md-icon"></span>
        Planned later
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../tutorials/archive/" class="md-nav__link">
      Submitting your data to an archive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../tutorials/search_ndi_databases/" class="md-nav__link">
      Search and analyze NDI databases on the web
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." class="md-nav__link">
      Reference
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#superclasses" class="md-nav__link">
    Superclasses
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    Properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods-help" class="md-nav__link">
    Methods help
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/VH-Lab/NDI-matlab/edit/master/docs/reference/+ndi/+app/spikeextractor.m.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="class-ndiappspikeextractor">CLASS ndi.app.spikeextractor<a class="headerlink" href="#class-ndiappspikeextractor" title="Permanent link">&para;</a></h1>
<p>ndi.app.spikeextractor - an app to extract elements found in sessions</p>
<p>NDI_APP_SPIKEEXTRACTOR_OBJ = ndi.app.spikeextractor(SESSION)</p>
<p>Creates a new ndi_app_spikeextractor object that can operate on
  NDI_SESSIONS. The app is named 'ndi_app_spikeextractor'.</p>
<div class="codehilite"><pre><span></span><code><span class="err">Documentation for ndi.app.spikeextractor</span>
<span class="err">   doc ndi.app.spikeextractor</span>
</code></pre></div>

<h2 id="superclasses">Superclasses<a class="headerlink" href="#superclasses" title="Permanent link">&para;</a></h2>
<p><strong>ndi.app</strong>, <strong>ndi.documentservice</strong>, <strong>ndi.app.appdoc</strong></p>
<h2 id="properties">Properties<a class="headerlink" href="#properties" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>session</em></td>
<td></td>
</tr>
<tr>
<td><em>name</em></td>
<td></td>
</tr>
<tr>
<td><em>doc_types</em></td>
<td></td>
</tr>
<tr>
<td><em>doc_document_types</em></td>
<td></td>
</tr>
<tr>
<td><em>doc_session</em></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="methods">Methods<a class="headerlink" href="#methods" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>add_appdoc</em></td>
<td>Load data from an application document</td>
</tr>
<tr>
<td><em>appdoc_description</em></td>
<td>a function that prints a description of all appdoc types</td>
</tr>
<tr>
<td><em>clear_appdoc</em></td>
<td>remove an ndi.app.appdoc document from a session database</td>
</tr>
<tr>
<td><em>defaultstruct_appdoc</em></td>
<td>return a default appdoc structure for a given APPDOC type</td>
</tr>
<tr>
<td><em>doc2struct</em></td>
<td>create an ndi.document from an input structure and input parameters</td>
</tr>
<tr>
<td><em>extract</em></td>
<td>method that extracts spikes from epochs of an NDI_ELEMENT_TIMESERIES_OBJ</td>
</tr>
<tr>
<td><em>filter</em></td>
<td>filter data based on a filter structure</td>
</tr>
<tr>
<td><em>find_appdoc</em></td>
<td>find an ndi_app_appdoc document in the session database</td>
</tr>
<tr>
<td><em>isequal_appdoc_struct</em></td>
<td>are two APPDOC data structures the same (equal)?</td>
</tr>
<tr>
<td><em>isvalid_appdoc_struct</em></td>
<td>is an input structure a valid descriptor for an APPDOC?</td>
</tr>
<tr>
<td><em>loaddata_appdoc</em></td>
<td>load data from an application document</td>
</tr>
<tr>
<td><em>makefilterstruct</em></td>
<td>make a filter structure for a given sampling rate and extraction parameters</td>
</tr>
<tr>
<td><em>newdocument</em></td>
<td>return a new database document of type ndi.document based on an app</td>
</tr>
<tr>
<td><em>searchquery</em></td>
<td>return a search query for an ndi.document related to this app</td>
</tr>
<tr>
<td><em>spikeextractor</em></td>
<td>an app to extract elements found in sessions</td>
</tr>
<tr>
<td><em>struct2doc</em></td>
<td>create an ndi.document from an input structure and input parameters</td>
</tr>
<tr>
<td><em>varappname</em></td>
<td>return the name of the application for use in variable creation</td>
</tr>
<tr>
<td><em>version_url</em></td>
<td>return the app version and url</td>
</tr>
</tbody>
</table>
<h3 id="methods-help">Methods help<a class="headerlink" href="#methods-help" title="Permanent link">&para;</a></h3>
<p><strong>add_appdoc</strong> - <em>Load data from an application document</em></p>
<p>[...] = ADD_APPDOC(NDI_APPDOC_OBJ, APPDOC_TYPE, ...
      APPDOC_STRUCT, DOCEXISTSACTION, [additional arguments])</p>
<p>Creates a new ndi.document that is based on the type APPDOC_TYPE with creation data
  specified by APPDOC_STRUCT.  [additional inputs] are used to find or specify the
  NDI_document in the database. They are passed to the function FIND_APPDOC,
  so see help FIND_APPDOC for the documentation for each app.</p>
<p>The DOC is returned as a cell array of NDI_DOCUMENTs (should have 1 entry but could have more than
  1 if the document already exists).</p>
<p>If APPDOC_STRUCT is empty, then default values are used. If it is a character array, then it is
  assumed to be a filename of a tab-separated-value text file. If it is an ndi.document, then it
  is assumed to be an ndi.document and it will be converted to the parameters using DOC2STRUCT.</p>
<p>This function also takes a string DOCEXISTSACTION that describes what it should do
  in the event that the document fitting the [additional inputs] already exists:
  DOCEXISTACTION value      | Description</p>
<hr />
<p>'Error'                   | An error is generating indicating the document exists.
  'NoAction'                | The existing document is left alone. The existing ndi.document
                            |    is returned in DOC.
  'Replace'                 | Replace the document; note that this deletes all NDI_DOCUMENTS
                            |    that depend on the original.
  'ReplaceIfDifferent'      | Conditionally replace the document, but only if the 
                            |    the data structures that define the document are not equal.</p>
<p>Help for ndi.app.spikeextractor/add_appdoc is inherited from superclass NDI.APP.APPDOC</p>
<hr />
<p><strong>appdoc_description</strong> - <em>a function that prints a description of all appdoc types</em></p>
<p>For ndi_app_spikeextractor, there are the following types:
  APPDOC_TYPE                 | Description</p>
<hr />
<p>'extraction_parameters'     | A document that describes the parameters to be used for extraction
  ['extraction_parameters'... | A document that describes modifications to the parameters to be used for extracting
      '_modification']        |    a particular epoch.
  'spikewaves'                | A document that stores spike waves found by the extractor in an epoch
  'spiketimes'                | A document that stores the times of the waves found by the extractor in an epoch</p>
<hr />
<hr />
<p>APPDOC 1: EXTRACTION_PARAMETERS</p>
<hr />
<div class="codehilite"><pre><span></span><code><span class="o">----------------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">EXTRACTION_PARAMETERS</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">ABOUT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>
<span class="o">----------------------------------</span><span class="w"></span>

<span class="n">EXTRACTION_PARAMETERS</span><span class="w"> </span><span class="n">documents</span><span class="w"> </span><span class="k">hold</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">parameters</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">guide</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">of</span><span class="w"></span>
<span class="n">spikewaves</span><span class="p">.</span><span class="w"></span>

<span class="nl">Definition</span><span class="p">:</span><span class="w"> </span><span class="n">app</span><span class="o">/</span><span class="n">spikeextractor</span><span class="o">/</span><span class="n">extraction_parameters</span><span class="w"></span>

<span class="o">-------------------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">EXTRACTION_PARAMETERS</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">CREATION</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>
<span class="o">-------------------------------------</span><span class="w"></span>

<span class="n">DOC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">STRUCT2DOC</span><span class="p">(</span><span class="n">NDI_APP_SPIKEEXTRACTOR_OBJ</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;extraction_parameters&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">EXTRACTION_PARAMS</span><span class="p">,</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">)</span><span class="w"></span>

<span class="n">EXTRACTION_NAME</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="w"></span>

<span class="n">EXTRACTION_PARAMS</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="nl">fields</span><span class="p">:</span><span class="w"></span>
<span class="n">Fieldname</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="n">Description</span><span class="w"></span>
<span class="o">-------------------------------------------------------------------------</span><span class="w"></span>
<span class="n">center_range</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">Range</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">center</span><span class="w"></span>
<span class="n">overlap</span><span class="w"> </span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Overlap</span><span class="w"> </span><span class="n">allowed</span><span class="w"></span>
<span class="n">read_time</span><span class="w"> </span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="nc">time</span><span class="w"></span>
<span class="n">refractory_samples</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">refractory</span><span class="w"> </span><span class="n">period</span><span class="w"></span>
<span class="n">spike_sample_start</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="p">)</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Samples</span><span class="w"> </span><span class="k">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">include</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">unclear</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">sample</span><span class="w"></span>
<span class="n">spike_sample_stop</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">Samples</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">include</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">unclear</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">sample</span><span class="w"></span>
<span class="n">start_time</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="k">First</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">read</span><span class="w"></span>
<span class="n">do_filter</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Should</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">perform</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">filter</span><span class="vm">?</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">)</span><span class="w"></span>
<span class="n">filter_type</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">What</span><span class="w"> </span><span class="k">filter</span><span class="vm">?</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="s1">&#39;cheby1high&#39;</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="s1">&#39;none&#39;</span><span class="w"></span>
<span class="w"> </span><span class="p">(</span><span class="s1">&#39;cheby1high&#39;</span><span class="p">)</span><span class="w">           </span><span class="o">|</span><span class="w"> </span>
<span class="n">filter_low</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Low</span><span class="w"> </span><span class="k">filter</span><span class="w"> </span><span class="n">frequency</span><span class="w"></span>
<span class="n">filter_high</span><span class="w"> </span><span class="p">(</span><span class="mi">300</span><span class="p">)</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">Filter</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="n">frequency</span><span class="w"></span>
<span class="n">filter_order</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">Filter</span><span class="w"> </span><span class="k">order</span><span class="w"></span>
<span class="n">filter_ripple</span><span class="w"> </span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">Filter</span><span class="w"> </span><span class="n">ripple</span><span class="w"> </span><span class="k">parameter</span><span class="w"></span>
<span class="n">threshold_method</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">Threshold</span><span class="w"> </span><span class="k">method</span><span class="p">.</span><span class="w"> </span><span class="n">Can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="ss">&quot;standard_deviation&quot;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ss">&quot;absolute&quot;</span><span class="w"></span>
<span class="n">threshold_parameter</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">Threshold</span><span class="w"> </span><span class="k">parameter</span><span class="p">.</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">threshold_method</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ss">&quot;standard_deviation&quot;</span><span class="w"> </span><span class="k">then</span><span class="w"></span>
<span class="w">   </span><span class="p">(</span><span class="s1">&#39;standard_deviation&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="n">this</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">multiplied</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">empirical</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">deviation</span><span class="p">.</span><span class="w"></span>
<span class="w">                          </span><span class="o">|</span><span class="w">    </span><span class="k">If</span><span class="w"> </span><span class="ss">&quot;absolute&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">taken</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">absolute</span><span class="w"> </span><span class="n">threshold</span><span class="p">.</span><span class="w"></span>
<span class="n">threshold_sign</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">Threshold</span><span class="w"> </span><span class="n">crossing</span><span class="w"> </span><span class="nf">sign</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">high</span><span class="o">-</span><span class="k">to</span><span class="o">-</span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">low</span><span class="o">-</span><span class="k">to</span><span class="o">-</span><span class="n">high</span><span class="p">)</span><span class="w"></span>

<span class="o">------------------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">EXTRACTION_PARAMETERS</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">FINDING</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="o">------------------------------------</span><span class="w"></span>

<span class="o">[</span><span class="n">EXTRACTION_PARAMETERS_DOC</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FIND_APPDOC</span><span class="p">(</span><span class="n">NDI_APP_SPIKEEXTRACTOR_OBJ</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
<span class="w">     </span><span class="s1">&#39;extraction_parameters&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">EXTRACTION_PARAMETERS_NAME</span><span class="p">)</span><span class="w"></span>

<span class="nl">INPUTS</span><span class="p">:</span><span class="w"> </span>
<span class="w">  </span><span class="n">EXTRACTION_PARAMETERS_NAME</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="n">document</span><span class="w"></span>
<span class="nl">OUPUT</span><span class="p">:</span><span class="w"> </span>
<span class="w">  </span><span class="k">Returns</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameters</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="n">document</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">.</span><span class="w"></span>

<span class="o">------------------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">EXTRACTION_PARAMETERS</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">LOADING</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="o">------------------------------------</span><span class="w"></span>

<span class="o">[</span><span class="n">EXTRACTION_PARAMETERS_DOC</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LOADDATA_APPDOC</span><span class="p">(</span><span class="n">NDI_APP_SPIKEEXTRACTOR_OBJ</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
<span class="w">     </span><span class="s1">&#39;extraction_parameters&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">)</span><span class="w"></span>

<span class="nl">INPUTS</span><span class="p">:</span><span class="w"> </span>
<span class="w">  </span><span class="n">EXTRACTION_PARAMETERS_NAME</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="n">document</span><span class="w"></span>
<span class="nl">OUPUT</span><span class="p">:</span><span class="w"> </span>
<span class="w">  </span><span class="k">Returns</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameters</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="n">document</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">.</span><span class="w"></span>
</code></pre></div>

<hr />
<p>APPDOC 2: EXTRACTION_PARAMETERS_MODIFICATION</p>
<hr />
<div class="codehilite"><pre><span></span><code><span class="o">-----------------------------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">EXTRACTION_PARAMETERS_MODIFICATION</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">ABOUT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>
<span class="o">-----------------------------------------------</span><span class="w"></span>

<span class="n">EXTRACTION_PARAMETERS_MODIFICATION</span><span class="w"> </span><span class="n">documents</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span>
<span class="k">parameters</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">specific</span><span class="w"> </span><span class="n">epoch</span><span class="p">.</span><span class="w"></span>

<span class="nl">Definition</span><span class="p">:</span><span class="w"> </span><span class="n">app</span><span class="o">/</span><span class="n">spikeextractor</span><span class="o">/</span><span class="n">extraction_parameters_modification</span><span class="w"></span>

<span class="o">--------------------------------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">EXTRACTION_PARAMETERS_MODIFICATION</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">CREATION</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>
<span class="o">--------------------------------------------------</span><span class="w"></span>

<span class="n">DOC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">STRUCT2DOC</span><span class="p">(</span><span class="n">NDI_APP_SPIKEEXTRACTOR_OBJ</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;extraction_parameters_modification&#39;</span><span class="p">,</span><span class="w">  </span><span class="p">...</span><span class="w"></span>
<span class="w">   </span><span class="n">EXTRACTION_PARAMS</span><span class="p">,</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">)</span><span class="w"></span>

<span class="n">EXTRACTION_NAME</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="w"></span>

<span class="n">EXTRACTION_PARAMS</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="nl">fields</span><span class="p">:</span><span class="w"></span>
<span class="n">Fieldname</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="n">Description</span><span class="w"></span>
<span class="o">-------------------------------------------------------------------------</span><span class="w"></span>
<span class="n">center_range</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">Range</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">center</span><span class="w"></span>
<span class="n">overlap</span><span class="w"> </span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Overlap</span><span class="w"> </span><span class="n">allowed</span><span class="w"></span>
<span class="n">read_time</span><span class="w"> </span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="nc">time</span><span class="w"></span>
<span class="n">refractory_samples</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">refractory</span><span class="w"> </span><span class="n">period</span><span class="w"></span>
<span class="n">spike_sample_start</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="p">)</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">Samples</span><span class="w"> </span><span class="k">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">include</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">unclear</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">sample</span><span class="w"></span>
<span class="n">spike_sample_stop</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">Samples</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">include</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">unclear</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">sample</span><span class="w"></span>
<span class="n">start_time</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="k">First</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">read</span><span class="w"></span>
<span class="n">do_filter</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">Should</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">perform</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">filter</span><span class="vm">?</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">)</span><span class="w"></span>
<span class="n">filter_type</span><span class="w">               </span><span class="o">|</span><span class="w"> </span><span class="n">What</span><span class="w"> </span><span class="k">filter</span><span class="vm">?</span><span class="w"> </span><span class="k">Default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="s1">&#39;cheby1high&#39;</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="s1">&#39;none&#39;</span><span class="w"></span>
<span class="w"> </span><span class="p">(</span><span class="s1">&#39;cheby1high&#39;</span><span class="p">)</span><span class="w">           </span><span class="o">|</span><span class="w"> </span>
<span class="n">filter_low</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">Low</span><span class="w"> </span><span class="k">filter</span><span class="w"> </span><span class="n">frequency</span><span class="w"></span>
<span class="n">filter_high</span><span class="w"> </span><span class="p">(</span><span class="mi">300</span><span class="p">)</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="k">Filter</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="n">frequency</span><span class="w"></span>
<span class="n">filter_order</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">Filter</span><span class="w"> </span><span class="k">order</span><span class="w"></span>
<span class="n">filter_ripple</span><span class="w"> </span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="k">Filter</span><span class="w"> </span><span class="n">ripple</span><span class="w"> </span><span class="k">parameter</span><span class="w"></span>
<span class="n">threshold_method</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">Threshold</span><span class="w"> </span><span class="k">method</span><span class="p">.</span><span class="w"> </span><span class="n">Can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="ss">&quot;standard_deviation&quot;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ss">&quot;absolute&quot;</span><span class="w"></span>
<span class="n">threshold_parameter</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">Threshold</span><span class="w"> </span><span class="k">parameter</span><span class="p">.</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">threshold_method</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ss">&quot;standard_deviation&quot;</span><span class="w"> </span><span class="k">then</span><span class="w"></span>
<span class="w">   </span><span class="p">(</span><span class="s1">&#39;standard_deviation&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="n">this</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">multiplied</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">empirical</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">deviation</span><span class="p">.</span><span class="w"></span>
<span class="w">                          </span><span class="o">|</span><span class="w">    </span><span class="k">If</span><span class="w"> </span><span class="ss">&quot;absolute&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">taken</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">absolute</span><span class="w"> </span><span class="n">threshold</span><span class="p">.</span><span class="w"></span>
<span class="n">threshold_sign</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">Threshold</span><span class="w"> </span><span class="n">crossing</span><span class="w"> </span><span class="nf">sign</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">high</span><span class="o">-</span><span class="k">to</span><span class="o">-</span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">low</span><span class="o">-</span><span class="k">to</span><span class="o">-</span><span class="n">high</span><span class="p">)</span><span class="w"></span>

<span class="o">-------------------------------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">EXTRACTION_PARAMETERS_MODIFICATION</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">FINDING</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="o">-------------------------------------------------</span><span class="w"></span>

<span class="o">[</span><span class="n">EXTRACTION_PARAMETERS_MODIFICATION_DOC</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FIND_APPDOC</span><span class="p">(</span><span class="n">NDI_APP_SPIKEEXTRACTOR_OBJ</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
<span class="w">     </span><span class="s1">&#39;extraction_parameters_modification&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="p">,</span><span class="w"> </span><span class="n">EPOCHID</span><span class="p">,</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">)</span><span class="w"></span>

<span class="nl">INPUTS</span><span class="p">:</span><span class="w"> </span>
<span class="w">   </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="nc">time</span><span class="p">.</span><span class="n">timeseries</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"></span>
<span class="w">   </span><span class="n">EPOCH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="n">identifier</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">accessed</span><span class="w"></span>
<span class="w">   </span><span class="n">EXTRACTION_NAME</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameters</span><span class="w"> </span><span class="n">document</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"></span>
<span class="nl">OUPUT</span><span class="p">:</span><span class="w"> </span>
<span class="w">  </span><span class="k">Returns</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameters</span><span class="w"> </span><span class="n">modification</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="n">document</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="w"></span>
<span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">EPOCHID</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="p">.</span><span class="w"></span>

<span class="o">-------------------------------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">EXTRACTION_PARAMETERS_MODIFICATION</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">LOADING</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="o">-------------------------------------------------</span><span class="w"></span>

<span class="o">[</span><span class="n">EXTRACTION_PARAMETERS_DOC</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LOADDATA_APPDOC</span><span class="p">(</span><span class="n">NDI_APP_SPIKEEXTRACTOR_OBJ</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
<span class="w">     </span><span class="s1">&#39;extraction_parameters_modification&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="p">,</span><span class="w"> </span><span class="n">EPOCHID</span><span class="p">,</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">)</span><span class="w"></span>

<span class="nl">INPUTS</span><span class="p">:</span><span class="w"> </span>
<span class="w">   </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="nc">time</span><span class="p">.</span><span class="n">timeseries</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"></span>
<span class="w">   </span><span class="n">EPOCH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="n">identifier</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">accessed</span><span class="w"></span>
<span class="w">   </span><span class="n">EXTRACTION_PARAMETERS_NAME</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="n">document</span><span class="w"></span>
<span class="nl">OUPUT</span><span class="p">:</span><span class="w"> </span>
<span class="w">  </span><span class="k">Returns</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameters</span><span class="w"> </span><span class="n">modification</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="n">document</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">.</span><span class="w"></span>
</code></pre></div>

<hr />
<p>APPDOC 3: SPIKEWAVES</p>
<hr />
<div class="codehilite"><pre><span></span><code><span class="o">-----------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">SPIKEWAVES</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">ABOUT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>
<span class="o">-----------------------</span><span class="w"></span>

<span class="n">SPIKEWAVES</span><span class="w"> </span><span class="n">documents</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">waveforms</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">extraction</span><span class="p">.</span><span class="w"> </span><span class="n">It</span><span class="w"></span>
<span class="n">DEPENDS</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="nc">time</span><span class="p">.</span><span class="n">timeseries</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">performed</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">EXTRACTION_PARAMETERS</span><span class="w"></span>
<span class="n">that</span><span class="w"> </span><span class="n">descibed</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="p">.</span><span class="w"></span>

<span class="nl">Definition</span><span class="p">:</span><span class="w"> </span><span class="n">app</span><span class="o">/</span><span class="n">spikeextractor</span><span class="o">/</span><span class="n">spikewaves</span><span class="w"></span>

<span class="o">--------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">SPIKEWAVES</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">CREATION</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>
<span class="o">--------------------------</span><span class="w"></span>

<span class="n">Spikewaves</span><span class="w"> </span><span class="n">documents</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">internally</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">EXTRACT</span><span class="w"> </span><span class="k">function</span><span class="w"></span>

<span class="o">------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">SPIKEWAVES</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">FINDING</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="o">------------------------</span><span class="w"></span>

<span class="o">[</span><span class="n">SPIKEWAVES_DOC</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FIND_APPDOC</span><span class="p">(</span><span class="n">NDI_APP_SPIKEEXTRACTOR_OBJ</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;spikewaves&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
<span class="w">                            </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="p">,</span><span class="w"> </span><span class="n">EPOCH</span><span class="p">,</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">)</span><span class="w"></span>

<span class="nl">INPUTS</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="nc">time</span><span class="p">.</span><span class="n">timeseries</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"></span>
<span class="w">   </span><span class="n">EPOCH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="n">identifier</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">accessed</span><span class="w"></span>
<span class="w">   </span><span class="n">EXTRACTION_NAME</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameters</span><span class="w"> </span><span class="n">document</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"></span>
<span class="k">OUTPUT</span><span class="err">:</span><span class="w"></span>
<span class="w">   </span><span class="n">SPIKEWAVES_DOC</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="n">document</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extracted</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">waves</span><span class="p">.</span><span class="w"></span>

<span class="o">------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">SPIKEWAVES</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">LOADING</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="o">------------------------</span><span class="w"></span>

<span class="o">[</span><span class="n">CONCATENATED_SPIKES, WAVEPARAMETERS, SPIKEWAVES_DOC</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LOADDATA_APPDOC</span><span class="p">(</span><span class="n">NDI_APP_SPIKEEXTRACTOR_OBJ</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;spikewaves&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
<span class="w">                            </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="p">,</span><span class="w"> </span><span class="n">EPOCH</span><span class="p">,</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">)</span><span class="w"></span>

<span class="nl">INPUTS</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="nc">time</span><span class="p">.</span><span class="n">timeseries</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"></span>
<span class="w">   </span><span class="n">EPOCH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="n">identifier</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">accessed</span><span class="w"></span>
<span class="w">   </span><span class="n">EXTRACTION_NAME</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameters</span><span class="w"> </span><span class="n">document</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"></span>

<span class="nl">OUTPUTS</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="n">CONCATENATED_SPIKES</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">waveforms</span><span class="w"> </span><span class="n">SxDxN</span><span class="p">,</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">channel</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="n">waveform</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="n">D</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">channels</span><span class="w"> </span><span class="p">(</span><span class="n">dimension</span><span class="p">),</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">waveforms</span><span class="w"></span>
<span class="w">   </span><span class="n">WAVEPARAMETERS</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">structure</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="nl">fields</span><span class="p">:</span><span class="w"></span>
<span class="w">     </span><span class="n">Field</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">Description</span><span class="w"></span>
<span class="w">     </span><span class="o">--------------------------------------------------------</span><span class="w"></span>
<span class="w">     </span><span class="n">numchannels</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">channels</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="n">spike</span><span class="w"></span>
<span class="w">     </span><span class="n">S0</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="k">before</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">center</span><span class="w"></span>
<span class="w">                        </span><span class="o">|</span><span class="w">    </span><span class="p">(</span><span class="n">usually</span><span class="w"> </span><span class="n">negative</span><span class="p">)</span><span class="w"></span>
<span class="w">     </span><span class="n">S1</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">center</span><span class="w"></span>
<span class="w">                        </span><span class="o">|</span><span class="w">    </span><span class="p">(</span><span class="n">usually</span><span class="w"> </span><span class="n">positive</span><span class="p">)</span><span class="w"></span>
<span class="w">     </span><span class="n">samplerate</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">sampling</span><span class="w"> </span><span class="n">rate</span><span class="w"></span>
<span class="w">   </span><span class="n">SPIKEWAVES_DOC</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="n">document</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extracted</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">waves</span><span class="p">.</span><span class="w"></span>
</code></pre></div>

<hr />
<p>APPDOC 4: SPIKETIMES</p>
<hr />
<div class="codehilite"><pre><span></span><code><span class="o">-----------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">SPIKETIMES</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">ABOUT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>
<span class="o">-----------------------</span><span class="w"></span>

<span class="n">SPIKETIMES</span><span class="w"> </span><span class="n">documents</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">waveforms</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">extraction</span><span class="p">.</span><span class="w"> </span><span class="n">It</span><span class="w"></span>
<span class="n">DEPENDS</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="nc">time</span><span class="p">.</span><span class="n">timeseries</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">performed</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">EXTRACTION_PARAMETERS</span><span class="w"></span>
<span class="n">that</span><span class="w"> </span><span class="n">descibed</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="p">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">local</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span><span class="n">units</span><span class="p">.</span><span class="w"></span>

<span class="nl">Definition</span><span class="p">:</span><span class="w"> </span><span class="n">app</span><span class="o">/</span><span class="n">spikeextractor</span><span class="o">/</span><span class="n">spiketimes</span><span class="w"></span>

<span class="o">--------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">SPIKETIMES</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">CREATION</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>
<span class="o">--------------------------</span><span class="w"></span>

<span class="n">Spiketimes</span><span class="w"> </span><span class="n">documents</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">internally</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">EXTRACT</span><span class="w"> </span><span class="k">function</span><span class="w"></span>

<span class="o">------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">SPIKETIMES</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">FINDING</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="o">------------------------</span><span class="w"></span>

<span class="o">[</span><span class="n">SPIKETIMES_DOC</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FIND_APPDOC</span><span class="p">(</span><span class="n">NDI_APP_SPIKEEXTRACTOR_OBJ</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;spiketimes&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
<span class="w">                            </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="p">,</span><span class="w"> </span><span class="n">EPOCH</span><span class="p">,</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">)</span><span class="w"></span>

<span class="nl">INPUTS</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="nc">time</span><span class="p">.</span><span class="n">timeseries</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"></span>
<span class="w">   </span><span class="n">EPOCH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="n">identifier</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">accessed</span><span class="w"></span>
<span class="w">   </span><span class="n">EXTRACTION_NAME</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameters</span><span class="w"> </span><span class="n">document</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"></span>
<span class="k">OUTPUT</span><span class="err">:</span><span class="w"></span>
<span class="w">   </span><span class="n">SPIKEWAVES_DOC</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="n">document</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extracted</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">waves</span><span class="p">.</span><span class="w"></span>

<span class="o">------------------------</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">SPIKETIMES</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">LOADING</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="o">------------------------</span><span class="w"></span>

<span class="o">[</span><span class="n">SPIKETIMES, SPIKETIMES_DOC</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LOADDATA_APPDOC</span><span class="p">(</span><span class="n">NDI_APP_SPIKEEXTRACTOR_OBJ</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;spiketimes&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
<span class="w">                            </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="p">,</span><span class="w"> </span><span class="n">EPOCH</span><span class="p">,</span><span class="w"> </span><span class="n">EXTRACTION_NAME</span><span class="p">)</span><span class="w"></span>

<span class="nl">INPUTS</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="n">NDI_TIMESERIES_OBJ</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="nc">time</span><span class="p">.</span><span class="n">timeseries</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"></span>
<span class="w">   </span><span class="n">EPOCH</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="n">identifier</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">accessed</span><span class="w"></span>
<span class="w">   </span><span class="n">EXTRACTION_NAME</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"> </span><span class="k">parameters</span><span class="w"> </span><span class="n">document</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extraction</span><span class="w"></span>

<span class="nl">OUTPUTS</span><span class="p">:</span><span class="w"></span>
<span class="w">   </span><span class="n">SPIKETIMES</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">wave</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">local</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span><span class="n">coordinates</span><span class="w"></span>
<span class="w">   </span><span class="n">SPIKETIMES_DOC</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ndi</span><span class="p">.</span><span class="n">document</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extracted</span><span class="w"> </span><span class="n">spike</span><span class="w"> </span><span class="n">times</span><span class="p">.</span><span class="w"></span>
</code></pre></div>

<hr />
<hr />
<p><strong>clear_appdoc</strong> - <em>remove an ndi.app.appdoc document from a session database</em></p>
<p>B = CLEAR_APPDOC(NDI_APPDOC_OBJ, APPDOC_TYPE, [additional inputs])</p>
<p>Deletes the app document of style DOC_NAME from the database.
  [additional inputs] are used to find the NDI_document in the database.
  They are passed to the function FIND_APPDOC, so see help FIND_APPDOC for the documentation
  for each app.</p>
<p>B is 1 if the document is found, and 0 otherwise.</p>
<p>Help for ndi.app.spikeextractor/clear_appdoc is inherited from superclass NDI.APP.APPDOC</p>
<hr />
<p><strong>defaultstruct_appdoc</strong> - <em>return a default appdoc structure for a given APPDOC type</em></p>
<p>APPDOC_STRUCT = DEFAULTSTRUCT_APPDOC(NDI_APPDOC_OBJ, APPDOC_TYPE)</p>
<p>Return the default data structure for a given APPDOC_TYPE of an ndi.app.appdoc object.</p>
<p>In the base class, the blank version of the ndi.document is read in and the
  default structure is built from the ndi.document's class property list.</p>
<p>Help for ndi.app.spikeextractor/defaultstruct_appdoc is inherited from superclass NDI.APP.APPDOC</p>
<hr />
<p><strong>doc2struct</strong> - <em>create an ndi.document from an input structure and input parameters</em></p>
<p>DOC = STRUCT2DOC(NDI_APPDOC_OBJ, SESSION, APPDOC_TYPE, APPDOC_STRUCT, [additional parameters]</p>
<p>Create an ndi.document from a data structure APPDOC_STRUCT. The ndi.document is created
  according to the APPDOC_TYPE of the NDI_APPDOC_OBJ.</p>
<p>In the base class, this uses the property info in the ndi.document to load the data structure.</p>
<p>Help for ndi.app.spikeextractor/doc2struct is inherited from superclass NDI.APP.APPDOC</p>
<hr />
<p><strong>extract</strong> - <em>method that extracts spikes from epochs of an NDI_ELEMENT_TIMESERIES_OBJ</em></p>
<p>EXTRACT(NDI_APP_SPIKEEXTRACTOR_OBJ, NDI_TIMESERIES_OBJ, EPOCH, EXTRACTION_PARAMS, EXTRACTION_NAME, [REDO], [T0 T1])
  TYPE is the type of probe if any
  combination of NAME and TYPE must return at least one probe from session
  EPOCH is an index number or id to select epoch to extract, or can be a cell array of epoch number/ids
  EXTRACTION_NAME name given to find ndi_doc in database
  REDO - if 1, then extraction is re-done for epochs even if it has been done before with same extraction parameters</p>
<hr />
<p><strong>filter</strong> - <em>filter data based on a filter structure</em></p>
<p>DATA_OUT = FILTER(NDI_APP_SPIKEEXTRACTOR_OBJ, DATA_IN, FILTERSTRUCT)</p>
<p>Filters data based on FILTERSTRUCT (see ndi_app_spikeextractor/MAKEFILTERSTRUCT)</p>
<hr />
<p><strong>find_appdoc</strong> - <em>find an ndi_app_appdoc document in the session database</em></p>
<p>See ndi_app_spikeextractor/APPDOC_DESCRIPTION for documentation.</p>
<p>See also: ndi_app_spikeextractor/APPDOC_DESCRIPTION</p>
<hr />
<p><strong>isequal_appdoc_struct</strong> - <em>are two APPDOC data structures the same (equal)?</em></p>
<p>B = ISEQUAL_APPDOC_STRUCT(NDI_APPDOC_OBJ, APPDOC_TYPE, APPDOC_STRUCT1, APPDOC_STRUCT2)</p>
<p>Returns 1 if the structures APPDOC_STRUCT1 and APPDOC_STRUCT2 are valid and equal. In the base class, this is
  true if APPDOC_STRUCT1 and APPDOC_STRUCT2 have the same field names and same values and same sizes. That is,
  B is vlt.data.eqlen(APPDOC_STRUCT1, APPDOC_STRUCT2).</p>
<p>Help for ndi.app.spikeextractor/isequal_appdoc_struct is inherited from superclass NDI.APP.APPDOC</p>
<hr />
<p><strong>isvalid_appdoc_struct</strong> - <em>is an input structure a valid descriptor for an APPDOC?</em></p>
<p>[B,ERRORMSG] = ISVALID_APPDOC_STRUCT(NDI_APP_SPIKEEXTRACTOR_OBJ, APPDOC_TYPE, APPDOC_STRUCT)</p>
<p>Examines APPDOC_STRUCT and determines whether it is a valid input for creating an
  ndi.document described by APPDOC_TYPE. B is 1 if it is valid and 0 otherwise.</p>
<p>For ndi_app_spikeextractor, one can use an APPDOC_TYPE of the following:
  APPDOC_TYPE               | Description</p>
<hr />
<p>'extraction_parameters'   | A document that describes the parameters to be used for extraction</p>
<hr />
<p><strong>loaddata_appdoc</strong> - <em>load data from an application document</em></p>
<p>See ndi_app_spikeextractor/APPDOC_DESCRIPTION for documentation.</p>
<p>See also: ndi_app_spikeextractor/APPDOC_DESCRIPTION</p>
<hr />
<p><strong>makefilterstruct</strong> - <em>make a filter structure for a given sampling rate and extraction parameters</em></p>
<p>FILTERSTRUCT = MAKEFILTERSTRUCT(NDI_APP_SPIKEEXTRACTOR_OBJ, EXTRACTION_DOC, SAMPLE_RATE)</p>
<p>Given an EXTRACTION_DOC of parameters and a sampling rate SAMPLE_RATE, make a filter
  structure for passing to FILTERDATA.</p>
<hr />
<p><strong>newdocument</strong> - <em>return a new database document of type ndi.document based on an app</em></p>
<p>NDI_DOCUMENT_OBJ = NEWDOCUMENT(NDI_APP_OBJ)</p>
<p>Creates a blank ndi.document object of type 'ndi_document_app'. The 'app.name' field
  is filled out with the name of NDI_APP_OBJ.VARAPPNAME().</p>
<p>Help for ndi.app.spikeextractor/newdocument is inherited from superclass NDI.APP</p>
<hr />
<p><strong>searchquery</strong> - <em>return a search query for an ndi.document related to this app</em></p>
<p>C = SEARCHQUERY(NDI_APP_OBJ)</p>
<p>Returns a cell array of strings that allow the creation or searching of an
  ndi.database document for this app with field 'app' that has subfield 'name' equal
  to the app's VARAPPNAME.</p>
<p>Help for ndi.app.spikeextractor/searchquery is inherited from superclass NDI.APP</p>
<hr />
<p><strong>spikeextractor</strong> - <em>an app to extract elements found in sessions</em></p>
<p>NDI_APP_SPIKEEXTRACTOR_OBJ = ndi.app.spikeextractor(SESSION)</p>
<p>Creates a new ndi_app_spikeextractor object that can operate on
  NDI_SESSIONS. The app is named 'ndi_app_spikeextractor'.</p>
<hr />
<p><strong>struct2doc</strong> - <em>create an ndi.document from an input structure and input parameters</em></p>
<p>DOC = STRUCT2DOC(NDI_APP_SPIKEEXTRACTOR_OBJ, APPDOC_TYPE, APPDOC_STRUCT, ...)</p>
<p>For ndi_app_spikeextractor, one can use an APPDOC_TYPE of the following:
  APPDOC_TYPE                 | Description</p>
<hr />
<p>'extraction_parameters'     | A document that describes the parameters to be used for extraction
  ['extraction_parameters'... | A document that modifies the parameters to be used for extraction for a single epoch 
    '_modification']          | </p>
<p>See APPDOC_DESCRIPTION for a list of the parameters.</p>
<hr />
<p><strong>varappname</strong> - <em>return the name of the application for use in variable creation</em></p>
<p>AN = VARAPPNAME(NDI_APP_OBJ)</p>
<p>Returns the name of the app modified for use as a variable name, either as
  a Matlab variable or a name in a document.</p>
<p>Help for ndi.app.spikeextractor/varappname is inherited from superclass NDI.APP</p>
<hr />
<p><strong>version_url</strong> - <em>return the app version and url</em></p>
<p>[V, URL] = VERSION_URL(NDI_APP_OBJ)</p>
<p>Return the version and url for the current app. In the base class,
  it is assumed that GIT is used and is available from the command line
  and the version and url are read from the git directory.</p>
<p>Developers should override this method in their own class if they use a 
  different version control system.</p>
<p>Help for ndi.app.spikeextractor/version_url is inherited from superclass NDI.APP</p>
<hr />
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../../../../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../../../..",
          features: ['navigation.expand'],
          search: Object.assign({
            worker: "../../../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>